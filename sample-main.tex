\usepackage{verbatim}
\usepackage{mdframed}
\title{A Sample Document\\for the Usages of \textsf{lstEventB} Package}
\author{Thai Son Hoang\\ECS, University of Southampton\\\texttt{<T dot S dot Hoang at ecs dot soton dot ac dot uk>}}

\begin{document}
\maketitle
For convenient, we define macro \verb|\eventB| for \eventB. 

We start first with some inline \eventB code by embedding them using a pair of \verb$|$, for example \verb$|@grd1: "SNSR = FALSE"|$ gives |@grd1: "SNSR = FALSE"|. Any \eventB formulae including Unicode symbols will be typeset using the \verb|bsymb| package accordingly.

More complete piece of code (including the Unicode symbols) can be typeset using the \verb|EventBcode| environment. Below is the typesetting of an \eventB machine.
\begin{EventBcode}
machine Sensor_m0_SNSR
variables
	SNSR
invariants
	@thm0_1: "SNSR ∈ BOOL" theorem
events

	INITIALISATION
	begin
		@act1: "SNSR ≔ FALSE"
	end

	SNSR_on
	when
		@grd1: "SNSR = FALSE"
	then
		@act1: "SNSR ≔ TRUE"
	end

	SNSR_off
	when
		@grd1: "SNSR = TRUE"
	then
		@act1: "SNSR ≔ FALSE"
	end

end
\end{EventBcode}

One can change the different colour options.  For example, \verb|\EventBSetKeywordColour{blue!50!black}| will change the keyword colour to dark blue. (This has effects only when 
\begin{EventBcode}
machine Sensor_m0_SNSR
variables
	SNSR
invariants
	@thm0_1: "SNSR ∈ BOOL" theorem
\end{EventBcode}

One can includes external file containing \eventB code using the \verb|\EventBinputlisting| command.  For example the following is the result of including the code in the file \verb|Sensor_m1_DEP.bumx| using \verb|\EventBinputlisting{Sensor_m1_DEP.bumx}|.
\EventBinputlisting{Sensor_m1_DEP.bumx}

More specifically, one can specify more details on the inclusion, e.g., the ranges, as the following example\\
\verb|\EventBinputlisting[firstline=16,lastline=20]{Sensor_m2_snsr.bumx}|
gives
\EventBinputlisting[firstline=16,lastline=20]{Sensor_m2_snsr.bumx}

\EventBinputlisting{Sensor_m3_Ctrl.bumx}
\end{document}

%%% Local Variables: 
%%% mode: latex
%%% TeX-master: "sample-lstEventB"
%%% End: 
